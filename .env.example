# Copy to .env for local overrides (Docker Compose reads .env automatically).
# Do NOT commit real secrets.

# --- Database (Compose db) ---
POSTGRES_USER=trainer
POSTGRES_PASSWORD=trainer
POSTGRES_DB=trainer

# Used by API container (internal Docker network hostnames)
DATABASE_URL=postgresql://trainer:trainer@db:5432/trainer

# --- API ---
CORS_ORIGINS=http://localhost:3000
AGENT_BASE_URL=http://agent:9000

# Chat routing in API websocket:
# - stub (default): API answers with a built-in stub coach
# - http: API calls the agent service (`AGENT_BASE_URL`)
CHAT_BACKEND=stub

# --- Web (browser-visible) ---
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000/realtime

# --- Observability (OTel Collector) ---
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_SERVICE_NAME_API=trainer2-api
OTEL_SERVICE_NAME_AGENT=trainer2-agent

# --- Agent (LLM integration) ---
# - stub (default): deterministic replies, no keys required
# - openai_compatible: call an OpenAI-compatible Chat Completions endpoint
LLM_BACKEND=stub

# OpenAI-compatible settings (only needed when LLM_BACKEND=openai_compatible)
OPENAI_API_KEY=
OPENAI_MODEL=
OPENAI_BASE_URL=https://api.openai.com/v1

# Optional: override the agent's system prompt file path.
# Default is baked into the image at: services/agent/app/prompts/system.txt
AGENT_SYSTEM_PROMPT_PATH=

# --- Grafana (local dev defaults) ---
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin
